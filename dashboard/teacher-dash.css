:root{
    --bg-grad: linear-gradient(145deg, #rgba(225, 230, 255, .9) 0%, rgba(225,230,255,.9) 100%);
    --glass: rgba(255,255,255,.28);
    --glass-border: rgba(255,255,255,.45);
    --card: rgba(255,255,255,.36);
    --text: #0b0b0b;
    --muted: #596072;
    --accent: #0066ff;
    --accent-2: #3399ff;
    --shadow: 0 8px 28px rgba(15,23,42,.12);
    --nav-h: 64px;
    --radius: 20px;
    --cancel: #ef4444;
    --ok: #22c55e;
  }
  
  body.dark, html.dark{
    --bg-grad: linear-gradient(145deg, #141824 0%, #141824 100%);
    --glass: rgba(0,0,0,.35);
    --glass-border: rgba(255,255,255,.12);
    --card: rgba(0,0,0,.42);
    --text: #eaf0ff;
    --muted: #9aa3b2;
    --accent: #3a86ff;
    --accent-2: #66a6ff;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
  }
  
  *{box-sizing:border-box}
  html,body{height:100%}
  html{
    background:var(--bg-grad);
    overscroll-behavior: none;
  }
  body{
    margin:0; font-family:"Outfit",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    background:var(--bg-grad); color:var(--text);
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  
  img{max-width:100%; display:block}
  
  /* Glass + Cards */
  .glass{background:var(--glass); border:1px solid var(--glass-border); backdrop-filter:blur(18px); -webkit-backdrop-filter:blur(18px); box-shadow:var(--shadow)}
  .panel{border-radius:var(--radius);padding:16px}
  .panel-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
  
  /* Buttons: unified animation + focus ring */
  .btn,.btn-ghost,.btn-primary,.icon-btn{
    cursor:pointer;border:0;border-radius:12px;font-weight:600;
    transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, opacity .12s ease;
    outline: none;
    padding:10px 16px; line-height:1;
  }
  
  .btn, .btn-ghost, .btn-primary { padding:10px 16px; line-height:1; }
  
  /* Base button contrasts */
  .btn{background:var(--card); color:var(--text); border:1px solid var(--glass-border)}
  .btn:hover,
  .btn-ghost:hover,
  .btn-primary:hover{ transform: translateY(-1px); box-shadow: 0 6px 16px rgba(0,0,0,.15); }
  .btn:active,
  .btn-ghost:active,
  .btn-primary:active{ transform: translateY(0); box-shadow: 0 2px 6px rgba(0,0,0,.2); }
  
  .btn-primary{background:var(--accent); color:#fff}
  .btn-primary:hover{background:var(--accent-2)}
  .btn-ghost{background:transparent; color:var(--text)}
  
  /* Accessible focus styles */
  .btn:focus-visible,
  .btn-ghost:focus-visible,
  .btn-primary:focus-visible,
  .icon-btn:focus-visible{
    outline: 2px solid var(--accent);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent) 20%, transparent);
  }
  
  .icon-btn{padding:8px 10px;font-size:18px;background:transparent;color:var(--text)}
  
  /* Text helpers */
  .muted{color:var(--muted)} .small{font-size:.9rem}
  
  /* Topbar */
  .topbar{position:sticky;top:0;z-index:10;height:var(--nav-h);display:flex;align-items:center;justify-content:space-between;padding:0 18px;border-radius:0 0 16px 16px}
  .brand{display:flex;align-items:center;gap:12px}
  .brand .logo{width:40px;height:40px;border-radius:10px}
  .brand .title{font-weight:800;letter-spacing:.3px}
  .subtitle{margin-top:-4px}
  .top-controls{display:flex;align-items:center;gap:10px}
  .user-chip{display:flex;align-items:center;gap:10px;padding:6px 10px;border-radius:14px}
  .nav-button{display:flex;align-items:center;gap:10px;padding:6px 10px;border-radius:14px;white-space: nowrap;transition: background-color 0.25s ease-in-out}
  .nav-button:hover{background:var(--accent-2);cursor:pointer}
  .avatar{width:34px;height:34px;border-radius:50%;display:grid;place-items:center;background:var(--accent);color:#fff;font-weight:700}
  
  /* Layout: calendar LEFT, request form RIGHT */
  main.main-grid{
    display:grid;
    grid-template-columns: 1fr 360px;
    gap:22px;
    padding:18px;
    max-width:1200px;
    margin:18px auto;
  }
  #rightColumn{ order: 1; }  /* calendar and lists on left */
  #leftColumn{ order: 2; }   /* request form on right */
  
  @media (max-width: 900px){
    main.main-grid{grid-template-columns:1fr}
    #rightColumn{order:1}
    #leftColumn{order:2}
  }
  
  .sidecol{display:flex;flex-direction:column;gap:18px}
  footer.footer{margin:10px auto 24px;max-width:1200px;padding:10px 18px;border-radius:14px;display:flex;align-items:center;justify-content:space-between}
  
  /* Calendar */
  .calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
  .cal-head{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin-bottom:8px;color:var(--muted);font-weight:600}
  .cal-cell{position:relative;min-height:86px;border-radius:16px;padding:10px;background:var(--card);border:1px solid var(--glass-border);display:flex;align-items:flex-start;justify-content:flex-start}
  .cal-cell.today{outline:2px solid var(--accent)}
  .cal-date{font-weight:700;font-size:.95rem}
  .badge{position:absolute;right:8px;bottom:8px;padding:2px 8px;border-radius:999px;font-size:.7rem;background:rgba(0,0,0,.25);color:#fff}
  .dot{width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:6px;vertical-align:middle}
  .dot.booked{background:var(--accent)} .dot.today{background:var(--ok)} .dot.cancel{background:var(--cancel)}
  
  /* Form */
  .form label{display:block;font-weight:600;margin:8px 0 6px}
  .form input,.form select,.form textarea{width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--glass-border);background:var(--card);color:var(--text);outline:none}
  .form-actions{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
  .form-button{display:flex;align-items:center;gap:10px;font-family: "Outfit", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;font-size:16px;padding:6px 10px;border-radius:14px;white-space: nowrap;transition: background-color 0.25s ease-in-out}
  .form-button:hover{background:var(--accent-2);cursor:pointer}
  
  /* Make all form buttons white in dark mode */
  body.dark #sendRequest,
  body.dark #clearForm,
  body.dark #applyTutorBtn,
  body.dark #sendHelp,
  body.dark #openFAQ {
    color: white !important;
  }
  
  /* Lists */
  .list{display:flex;flex-direction:column;gap:10px}
  .card{padding:12px;border-radius:14px;border:1px solid var(--glass-border);background:var(--card);display:flex;align-items:center;justify-content:space-between;gap:12px}
  .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .pill{padding:4px 8px;border-radius:999px;font-size:.75rem;background:rgba(0,0,0,.08)}
  .pill.cancel{background:rgba(239,68,68,.15);color:#b91c1c}
  
  /* Overlay */
  .day-overlay.hidden{display:none}
  .overlay-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.7)}
  .glass-panel{position:fixed;inset:10% 50% auto 50%;transform:translate(-50%,0);width:min(720px,92vw);max-height:80vh;overflow:auto;padding:16px;border-radius:18px}
  .overlay-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
  .overlay-body{padding:8px 0}
  .overlay-footer{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}
  
  /* Toast */
  .toast{position:fixed;right:16px;bottom:16px;min-width:220px;padding:10px 14px;border-radius:12px;background:#111827;color:#fff;opacity:0;transform:translateY(8px);transition:.3s}
  .toast.show{opacity:1;transform:translateY(0)}
  
  /* Style the date input in dark mode */
  body.dark input[type="date"] {
    background-color: var(--glass); /* Match the dark mode background */
    color: #ffffff; /* White text for better contrast */
    border: 1px solid var(--glass-border); /* Adjust border for dark mode */
  }
  
  /* Change the calendar icon color in WebKit browsers (e.g., Chrome, Safari) */
  body.dark input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1); /* Inverts the color to white */
    opacity: 0.8; /* Slightly dim the icon */
  }
  
  /* Adjust for Firefox */
  body.dark input[type="date"]::-moz-focus-inner {
    color: #ffffff; /* White color for the calendar icon */
  }
  
  /* Style the time input in dark mode */
  body.dark input[type="time"] {
    background-color: var(--glass); /* Match the dark mode background */
    color: #ffffff; /* White text for better contrast */
    border: 1px solid var(--glass-border); /* Adjust border for dark mode */
  }
  
  /* Change the calendar icon color in WebKit browsers (e.g., Chrome, Safari) */
  body.dark input[type="time"]::-webkit-calendar-picker-indicator {
    filter: invert(1); /* Inverts the color to white */
    opacity: 0.8; /* Slightly dim the icon */
  }
  
  /* Adjust for Firefox */
  body.dark input[type="time"]::-moz-focus-inner {
    color: #ffffff; /* White color for the clock icon */
  }
  
  /* Auto-resizing textarea */
  textarea {
    overflow: hidden;  /* prevents scrollbars */
    min-height: 60px;  /* ensures reasonable default size */
    resize: none;      /* optional, disable manual resizing */
  }
  
  /*apply textarea styles to all text areas for consistency*/
  textarea{width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--glass-border);background:var(--card);color:var(--text);outline:none}
  
  /* Make Schedule, Clear, and Student View buttons white in dark mode */
  body.dark #sendRequest,
  body.dark #clearForm,
  body.dark #applyTutorBtn,
  body.dark #studentView,
  body.dark #addSlot,
  body.dark #clearAvail {
    color: white !important;
  }
  
  .cal-cell.has-booked {
    border-color: #f97316; /* orange */
  }
  
  .cal-cell.has-booked .cal-date {
    color: #f97316;
  }
  
